<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>New document</title>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
	<script type="text/javascript" src="scripts/jQueryRotate.2.2.js"></script>
	<script type="text/javascript" src="scripts/jquery.path.js"></script>
	<link rel="stylesheet" type="text/css" href="css/mlpstyle.css" />
</head>

<script type="text/javascript">

	$(document).ready(function () {
		
		setInterval(secTick, 1000);
		setInterval(moveSun,1000);

	});

	var secAngle = 0;
	var secTick = function () {

		$("#blades").rotate({
			animateTo: secAngle,
			duration: 1000,
		});

		secAngle += 20;
	}
	
	var sunForwardX = [35, 79, 144, 223, 314, 424, 541, 654, 762, 857, 931, 1000, 1050];
	var sunForwardY = [538, 419, 312, 222, 154, 107, 91, 107, 154, 222, 312, 419, 510];

	//using 13 hrs for animation [0-12]
	var curHour = 0;
	var noOfHours = 12;
	var moveAngle = 3;
	var moveSun = function() {
		//increment hour and mod by no of hours to get next index to coordinates for sun
		curHour++;
		curHour %= noOfHours;

			//normal case - just move sun
			var bezier_params_forward = {
				start: { x: sunForwardX[curHour], y: sunForwardY[curHour], angle: -moveAngle, length: 0.5 },
				end: { x: sunForwardX[curHour + 1], y: sunForwardY[curHour + 1], angle: moveAngle, length: 0.5 }
			}
			$("#sun").animate({ path: new $.path.bezier(bezier_params_forward) }, 500);

		
	//	$("#sun").animate({ path: new $.path.bezier(bezier_params_back)    }, 2000);
	}

</script>
<body>
	<div id="canvas">
		<div class="frame" id="daySky">
			<img src="imgs/skyDay.png" />
		</div>
		<div class="frame" id="bg">
			<img src="imgs/bg.png" />
		</div>
		<div class="frame" id="blades">
			<img src="imgs/blades.png" />
		</div>
		<div class="frame" id="sun">
			<img src="imgs/sun.png" />
		</div>
	</div>
</body>
</html>